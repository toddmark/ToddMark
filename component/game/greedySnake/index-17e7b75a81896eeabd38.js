(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{227:function(module,exports,__webpack_require__){eval("var content = __webpack_require__(228);\n\nif (typeof content === 'string') {\n  content = [[module.i, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = __webpack_require__(26)(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L2dhbWUvZ3JlZWR5U25ha2UvaW5kZXgubGVzcz8xZjFlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWMsbUJBQU8sQ0FBQyxHQUEySDs7QUFFako7QUFDQSxjQUFjLFFBQVM7QUFDdkI7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxhQUFhLG1CQUFPLENBQUMsRUFBaUY7O0FBRXRHO0FBQ0E7QUFDQSIsImZpbGUiOiIyMjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTUtMSEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5sZXNzXCIpO1xuXG5pZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbn1cblxudmFyIG9wdGlvbnMgPSB7fVxuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZiAoY29udGVudC5sb2NhbHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///227\n")},228:function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(25)(true);\n// Imports\nvar getUrl = __webpack_require__(229);\nvar ___CSS_LOADER_URL___0___ = getUrl(__webpack_require__(230));\n// Module\nexports.push([module.i, ".snake-container___1FiU5 {\\n  background: #000;\\n  background-image: url(" + ___CSS_LOADER_URL___0___ + ");\\n  height: 968px;\\n}\\n", "",{"version":3,"sources":["index.less"],"names":[],"mappings":"AAAA;EACE,gBAAgB;EAChB,+CAAmD;EACnD,aAAa;AACf","file":"index.less","sourcesContent":[".snake-container {\\n  background: #000;\\n  background-image: url(\\"../../../recourse/test.png\\");\\n  height: 968px;\\n}\\n"]}]);\n// Exports\nexports.locals = {\n\t"snake-container": "snake-container___1FiU5"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L2dhbWUvZ3JlZWR5U25ha2UvaW5kZXgubGVzcz8yODUyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDJCQUEyQixtQkFBTyxDQUFDLEVBQXlEO0FBQzVGO0FBQ0EsYUFBYSxtQkFBTyxDQUFDLEdBQTREO0FBQ2pGLHNDQUFzQyxtQkFBTyxDQUFDLEdBQTRCO0FBQzFFO0FBQ0EsY0FBYyxRQUFTLDZCQUE2QixxQkFBcUIsNERBQTRELGtCQUFrQixHQUFHLFNBQVMsaUVBQWlFLFlBQVksYUFBYSxXQUFXLCtEQUErRCxxQkFBcUIsMERBQTBELGtCQUFrQixHQUFHLEtBQUs7QUFDaGI7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMjI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikodHJ1ZSk7XG4vLyBJbXBvcnRzXG52YXIgZ2V0VXJsID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIik7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fID0gZ2V0VXJsKHJlcXVpcmUoXCIuLi8uLi8uLi9yZWNvdXJzZS90ZXN0LnBuZ1wiKSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5zbmFrZS1jb250YWluZXJfX18xRmlVNSB7XFxuICBiYWNrZ3JvdW5kOiAjMDAwO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiICsgX19fQ1NTX0xPQURFUl9VUkxfX18wX19fICsgXCIpO1xcbiAgaGVpZ2h0OiA5NjhweDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wiaW5kZXgubGVzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGdCQUFnQjtFQUNoQiwrQ0FBbUQ7RUFDbkQsYUFBYTtBQUNmXCIsXCJmaWxlXCI6XCJpbmRleC5sZXNzXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5zbmFrZS1jb250YWluZXIge1xcbiAgYmFja2dyb3VuZDogIzAwMDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiLi4vLi4vLi4vcmVjb3Vyc2UvdGVzdC5wbmdcXFwiKTtcXG4gIGhlaWdodDogOTY4cHg7XFxufVxcblwiXX1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydHMubG9jYWxzID0ge1xuXHRcInNuYWtlLWNvbnRhaW5lclwiOiBcInNuYWtlLWNvbnRhaW5lcl9fXzFGaVU1XCJcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///228\n')},229:function(module,exports,__webpack_require__){"use strict";eval('\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = url.__esModule ? url.default : url;\n\n  if (typeof url !== \'string\') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^[\'"].*[\'"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/["\'() \\t\\n]/.test(url) || options.needQuotes) {\n    return "\\"".concat(url.replace(/"/g, \'\\\\"\').replace(/\\n/g, \'\\\\n\'), "\\"");\n  }\n\n  return url;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzPzFkZTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDs7QUFFQTtBQUNBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsImZpbGUiOiIyMjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIG9wdGlvbnMgPSB7fTtcbiAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGUsIG5vLXBhcmFtLXJlYXNzaWduXG5cblxuICB1cmwgPSB1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsO1xuXG4gIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gSWYgdXJsIGlzIGFscmVhZHkgd3JhcHBlZCBpbiBxdW90ZXMsIHJlbW92ZSB0aGVtXG5cblxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMuaGFzaCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHVybCArPSBvcHRpb25zLmhhc2g7XG4gIH0gLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuXG5cbiAgaWYgKC9bXCInKCkgXFx0XFxuXS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJyksIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///229\n')},230:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.p + "assets/img-2y0ZAw5.png");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcmVjb3Vyc2UvdGVzdC5wbmc/N2FmMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFlLG9GQUF1QiwyQkFBMkIiLCJmaWxlIjoiMjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFzc2V0cy9pbWctMnkwWkF3NS5wbmdcIjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///230\n')},55:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: delegated ./node_modules/react/index.js from dll-reference bundle_5c5f5719ae1682886f46_library\nvar reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library = __webpack_require__(0);\nvar reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default = /*#__PURE__*/__webpack_require__.n(reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library);\n\n// CONCATENATED MODULE: ./src/component/game/greedySnake/types.ts\nvar GridType;\r\n(function (GridType) {\r\n    GridType[GridType["Snake"] = 0] = "Snake";\r\n    GridType[GridType["Bean"] = 1] = "Bean";\r\n})(GridType || (GridType = {}));\r\nvar Direction;\r\n(function (Direction) {\r\n    Direction[Direction["Top"] = 0] = "Top";\r\n    Direction[Direction["Down"] = 1] = "Down";\r\n    Direction[Direction["Left"] = 2] = "Left";\r\n    Direction[Direction["Right"] = 3] = "Right";\r\n})(Direction || (Direction = {}));\r\n\n// CONCATENATED MODULE: ./src/component/game/greedySnake/snake.ts\n\r\nvar snake_Snake = /** @class */ (function () {\r\n    function Snake(props) {\r\n        this.length = 4;\r\n        this.coors = ["2,4", "2,5", "3,5", "3,6"];\r\n        this.direction = Direction.Top;\r\n        this.registerEvent();\r\n        this.container = props.container;\r\n    }\r\n    Snake.prototype.getMoveCoors = function () {\r\n        this.coors = this.detectBoundary();\r\n        return this.coors;\r\n    };\r\n    Snake.prototype.detectBoundary = function () {\r\n        var head = this.coors[0];\r\n        var mapSize = this.container.mapSize;\r\n        var x = Number(head.split(",")[0]);\r\n        var y = Number(head.split(",")[1]);\r\n        var _a = this.getNextCoorByDirection({ x: x, y: y }), nextX = _a.nextX, nextY = _a.nextY;\r\n        head = nextX + "," + nextY;\r\n        //  boudary\r\n        var isAlive = false;\r\n        var failedReason = "";\r\n        if (nextX < mapSize.col &&\r\n            nextX >= 0 &&\r\n            nextY < mapSize.row &&\r\n            nextY >= 0) {\r\n            isAlive = true;\r\n            if (this.coors.includes(head)) {\r\n                isAlive = false;\r\n                failedReason = "kill self";\r\n            }\r\n        }\r\n        else {\r\n            isAlive = false;\r\n            failedReason = "over boudary";\r\n        }\r\n        if (isAlive) {\r\n            return this.moveSnake(head);\r\n        }\r\n        else {\r\n            console.log("touch", failedReason);\r\n        }\r\n        return this.coors;\r\n    };\r\n    Snake.prototype.getNextCoorByDirection = function (currentCoor) {\r\n        var x = currentCoor.x, y = currentCoor.y;\r\n        var nextX = x;\r\n        var nextY = y;\r\n        switch (this.direction) {\r\n            case Direction.Top:\r\n                nextY = y - 1;\r\n                break;\r\n            case Direction.Down:\r\n                nextY = y + 1;\r\n                break;\r\n            case Direction.Left:\r\n                nextX = x - 1;\r\n                break;\r\n            case Direction.Right:\r\n                nextX = x + 1;\r\n                break;\r\n        }\r\n        return { nextX: nextX, nextY: nextY };\r\n    };\r\n    Snake.prototype.moveSnake = function (head) {\r\n        this.coors.unshift(head);\r\n        var willPop = this.coors.pop();\r\n        this.container.clearCanvas([willPop]);\r\n        if (this.container.singlePoint) {\r\n            var _a = this.container.singlePoint, x = _a.x, y = _a.y;\r\n            var bean = x + "," + y;\r\n            if (head === bean) {\r\n                this.coors.unshift(bean);\r\n                this.coors.push(willPop);\r\n                this.container.clearSinglePoint();\r\n            }\r\n        }\r\n        return this.coors;\r\n    };\r\n    Snake.prototype.changeDirection = function (dir) {\r\n        var effectiveChange = true;\r\n        if (this.direction === Direction.Top && dir === Direction.Down) {\r\n            effectiveChange = false;\r\n        }\r\n        if (this.direction === Direction.Down && dir === Direction.Top) {\r\n            effectiveChange = false;\r\n        }\r\n        if (this.direction === Direction.Left && dir === Direction.Right) {\r\n            effectiveChange = false;\r\n        }\r\n        if (this.direction === Direction.Right && dir === Direction.Left) {\r\n            effectiveChange = false;\r\n        }\r\n        if (effectiveChange) {\r\n            this.direction = dir;\r\n        }\r\n    };\r\n    Snake.prototype.onKeyPress = function (e) {\r\n        switch (e.key) {\r\n            case "w":\r\n                this.changeDirection(Direction.Top);\r\n                break;\r\n            case "s":\r\n                this.changeDirection(Direction.Down);\r\n                break;\r\n            case "a":\r\n                this.changeDirection(Direction.Left);\r\n                break;\r\n            case "d":\r\n                this.changeDirection(Direction.Right);\r\n                break;\r\n        }\r\n    };\r\n    Snake.prototype.registerEvent = function () {\r\n        document.addEventListener("keypress", this.onKeyPress.bind(this));\r\n    };\r\n    return Snake;\r\n}());\r\n/* harmony default export */ var snake = (snake_Snake);\r\n\n// CONCATENATED MODULE: ./src/component/game/greedySnake/container.ts\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\n\r\nvar container_Game = /** @class */ (function () {\r\n    function Game(canvas) {\r\n        this.canvas = canvas;\r\n        this.ctx = canvas.getContext("2d");\r\n        this.map = [];\r\n        this.timerFrame = null;\r\n        this.timerInterval = null;\r\n        this.speed = 1000 / 2;\r\n        this.mapSize = {\r\n            row: 10,\r\n            col: 10,\r\n            width: 300,\r\n            height: 300\r\n        };\r\n    }\r\n    Game.prototype.start = function () {\r\n        var _a = this.mapSize, width = _a.width, height = _a.height;\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n    };\r\n    Game.prototype.init = function () {\r\n        var _a = this.mapSize, width = _a.width, height = _a.height, row = _a.row, col = _a.col;\r\n        this.snake = new snake({ container: this });\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n        this.ctx.fillStyle = "rgb(0,0,0,.3)";\r\n        this.emptyGrid = [];\r\n        this.filledGrid = [];\r\n        this.singlePoint = null;\r\n        var temp = [];\r\n        var tempCoor = [];\r\n        for (var i = 0; i < col; i++) {\r\n            temp[i] = [];\r\n            for (var j = 0; j < row; j++) {\r\n                temp[i].push(0);\r\n                tempCoor.push(i + "," + j);\r\n            }\r\n        }\r\n        var initSnkae = this.toObjectCoors(this.snake.coors);\r\n        this.updateCanvas(initSnkae);\r\n        this.map = temp;\r\n        this.emptyGrid = tempCoor;\r\n        this.continueGame();\r\n    };\r\n    Game.prototype.pauseGame = function () {\r\n        window.cancelAnimationFrame(this.timerFrame);\r\n        this.timerFrame = null;\r\n        clearInterval(this.timerInterval);\r\n        this.timerInterval = null;\r\n    };\r\n    Game.prototype.continueGame = function () {\r\n        var _this = this;\r\n        if (!this.timerFrame) {\r\n            var fn_1 = function () {\r\n                _this.updateMap();\r\n                _this.timerFrame = window.requestAnimationFrame(fn_1);\r\n            };\r\n            this.timerFrame = window.requestAnimationFrame(fn_1);\r\n        }\r\n    };\r\n    Game.prototype.toObjectCoors = function (strCoors) {\r\n        return strCoors.map(function (item) { return ({\r\n            x: Number(item.split(",")[0]),\r\n            y: Number(item.split(",")[1]),\r\n            type: GridType[item.split(",")[2]]\r\n        }); });\r\n    };\r\n    Game.prototype.toStringCoors = function (arrCoors) {\r\n        return arrCoors.map(function (item) { return item.x + "," + item.y + "," + item.type; });\r\n    };\r\n    Game.prototype.getRandomCoor = function () {\r\n        var random = Math.floor(Math.random() * this.emptyGrid.length);\r\n        var randomItem = this.emptyGrid[random];\r\n        var _a = randomItem.split(",").map(function (item) { return Number(item); }), x = _a[0], y = _a[1];\r\n        this.emptyGrid.splice(random, 1);\r\n        return [{ x: x, y: y, type: GridType.Bean }];\r\n    };\r\n    Game.prototype.getSnakeCoor = function () {\r\n        var coors = this.toObjectCoors(this.snake.getMoveCoors());\r\n        coors = coors.map(function (item) { return (__assign(__assign({}, item), { type: GridType.Snake })); });\r\n        return coors;\r\n    };\r\n    Game.prototype.getUpdateCoor = function () {\r\n        var strSnakeCoor = this.toStringCoors(this.getSnakeCoor());\r\n        var newCoors = [];\r\n        for (var _i = 0, strSnakeCoor_1 = strSnakeCoor; _i < strSnakeCoor_1.length; _i++) {\r\n            var item = strSnakeCoor_1[_i];\r\n            if (!this.filledGrid.includes(item)) {\r\n                newCoors.push(item);\r\n                this.filledGrid.push(item);\r\n                var index = this.emptyGrid.indexOf(item.substr(0, 3));\r\n                this.emptyGrid.splice(index, 1);\r\n            }\r\n        }\r\n        if (!this.singlePoint) {\r\n            var randomItem = this.getRandomCoor();\r\n            this.singlePoint = randomItem[0];\r\n            newCoors.push.apply(newCoors, this.toStringCoors(randomItem));\r\n        }\r\n        return this.toObjectCoors(newCoors);\r\n    };\r\n    Game.prototype.updateMap = function () {\r\n        var _this = this;\r\n        // console.log(this.map);\r\n        // const { row, col } = this.mapSize;\r\n        if (!this.timerInterval) {\r\n            this.timerInterval = setInterval(function () {\r\n                if (_this.isEmptyMap()) {\r\n                    var newMap = JSON.parse(JSON.stringify(_this.map));\r\n                    var arrCoors = _this.getUpdateCoor();\r\n                    for (var _i = 0, arrCoors_1 = arrCoors; _i < arrCoors_1.length; _i++) {\r\n                        var item = arrCoors_1[_i];\r\n                        newMap[item.x][item.y] = 1;\r\n                    }\r\n                    _this.map = newMap;\r\n                    _this.updateCanvas(arrCoors);\r\n                }\r\n                else {\r\n                    console.log("end");\r\n                    _this.pauseGame();\r\n                }\r\n            }, this.speed);\r\n        }\r\n    };\r\n    Game.prototype.updateCanvas = function (updateSquare) {\r\n        // console.log(updateSquare);\r\n        var _a = this.mapSize, width = _a.width, height = _a.height, row = _a.row, col = _a.col;\r\n        for (var _i = 0, updateSquare_1 = updateSquare; _i < updateSquare_1.length; _i++) {\r\n            var item = updateSquare_1[_i];\r\n            var x = item.x, y = item.y;\r\n            switch (item.type) {\r\n                case GridType["1"]:\r\n                    this.ctx.beginPath();\r\n                    this.ctx.arc((x * width) / col + width / col / 2, (y * height) / row + height / row / 2, width / col / 2, 0, 2 * Math.PI, false);\r\n                    this.ctx.fillStyle = "rgba(50,100,200,0.5)";\r\n                    this.ctx.fill();\r\n                    break;\r\n                default:\r\n                    this.ctx.fillStyle = "rgba(50,100,200,0.2)";\r\n                    this.ctx.fillRect((x * width) / col, (y * height) / row, width / col, height / row);\r\n            }\r\n            this.debug(item);\r\n        }\r\n    };\r\n    Game.prototype.debug = function (item) {\r\n        var _a = this.mapSize, width = _a.width, height = _a.height, row = _a.row, col = _a.col;\r\n        var x = item.x, y = item.y;\r\n        this.ctx.font = "10px YaHei";\r\n        this.ctx.fillStyle = "rgba(255,255,255,1)";\r\n        this.ctx.fillText("(" + x + "," + y + ")", (x * width) / col + 5, (y * height) / row + 20);\r\n    };\r\n    Game.prototype.clearSinglePoint = function () {\r\n        var clearArr = this.toStringCoors([this.singlePoint]);\r\n        this.singlePoint = null;\r\n        this.clearCanvas(clearArr);\r\n    };\r\n    Game.prototype.clearCanvas = function (arrClear) {\r\n        var _a;\r\n        var _b = this.mapSize, width = _b.width, height = _b.height, row = _b.row, col = _b.col;\r\n        var arrFilled = this.filledGrid.map(function (item) { return item.substr(0, 3); });\r\n        for (var _i = 0, arrClear_1 = arrClear; _i < arrClear_1.length; _i++) {\r\n            var item = arrClear_1[_i];\r\n            var x = Number(item.split(",")[0]);\r\n            var y = Number(item.split(",")[1]);\r\n            this.ctx.clearRect((x * width) / col, (y * width) / row, width / col, height / row);\r\n            var indexClear = arrFilled.indexOf(item);\r\n            if (indexClear > -1) {\r\n                this.filledGrid.splice(indexClear, 1);\r\n            }\r\n            this.map[x][y] = 0;\r\n        }\r\n        (_a = this.emptyGrid).push.apply(_a, arrClear);\r\n    };\r\n    Game.prototype.isEmptyMap = function () {\r\n        var _a = this.mapSize, row = _a.row, col = _a.col;\r\n        var current = this.map\r\n            .reduce(function (arr, value) {\r\n            return arr.concat(value);\r\n        }, [])\r\n            .reduce(function (resSum, value) { return (resSum += value); });\r\n        // console.log(current);\r\n        return current !== row * col;\r\n    };\r\n    Game.prototype.restart = function () {\r\n        var _a = this.mapSize, width = _a.width, height = _a.height;\r\n        this.ctx.clearRect(0, 0, width, height);\r\n        this.init();\r\n    };\r\n    return Game;\r\n}());\r\n/* harmony default export */ var container = (container_Game);\r\n\n// CONCATENATED MODULE: ./src/component/game/greedySnake/index.tsx\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n\r\n\r\n// import Nav from "../navbar";\r\nvar styles = __webpack_require__(227);\r\nvar greedySnake_Snake = /** @class */ (function (_super) {\r\n    __extends(Snake, _super);\r\n    function Snake(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.game = null;\r\n        return _this;\r\n    }\r\n    Snake.prototype.componentDidMount = function () {\r\n        // tslint:disable-next-line: no-unused-expression\r\n        document.title = "E-cology";\r\n        this.game = new container(document.getElementById("canvas"));\r\n        this.game.init();\r\n    };\r\n    Snake.prototype.render = function () {\r\n        var _this = this;\r\n        return (reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("div", { className: styles["snake-container"] },\r\n            reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("canvas", { id: "canvas" }),\r\n            reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("div", { className: "fixed-bottom" },\r\n                reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("button", { onClick: function () { return _this.game.continueGame(); } }, "Continue"),\r\n                reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("button", { onClick: function () { return _this.game.pauseGame(); } }, "Pause"),\r\n                reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.createElement("button", { onClick: function () { return _this.game.restart(); } }, "Restart"))));\r\n    };\r\n    return Snake;\r\n}(reactfrom_dll_reference_bundle_5c5f5719ae1682886f46_library_default.a.Component));\r\n/* harmony default export */ var greedySnake = __webpack_exports__["default"] = (greedySnake_Snake);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L2dhbWUvZ3JlZWR5U25ha2UvdHlwZXMudHM/YTJjZSIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L2dhbWUvZ3JlZWR5U25ha2Uvc25ha2UudHM/ZDM4NyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50L2dhbWUvZ3JlZWR5U25ha2UvY29udGFpbmVyLnRzPzljMTkiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudC9nYW1lL2dyZWVkeVNuYWtlL2luZGV4LnRzeD8wOTVhIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFZLFFBR1g7QUFIRCxXQUFZLFFBQVE7SUFDbEIseUNBQUs7SUFDTCx1Q0FBSTtBQUNOLENBQUMsRUFIVyxRQUFRLEtBQVIsUUFBUSxRQUduQjtBQWVELElBQVksU0FLWDtBQUxELFdBQVksU0FBUztJQUNuQix1Q0FBRztJQUNILHlDQUFJO0lBQ0oseUNBQUk7SUFDSiwyQ0FBSztBQUNQLENBQUMsRUFMVyxTQUFTLEtBQVQsU0FBUyxRQUtwQjs7O0FDdkJtQztBQUNwQztJQUtFLGVBQVksS0FBSztRQUNmLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztRQUMxQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztJQUNuQyxDQUFDO0lBRUQsNEJBQVksR0FBWjtRQUNFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25DLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUNwQixDQUFDO0lBRUQsOEJBQWMsR0FBZDtRQUNFLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakIsb0NBQU8sQ0FBb0I7UUFDbkMsSUFBTSxDQUFDLEdBQVcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxJQUFNLENBQUMsR0FBVyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLG9EQUF3RCxFQUF0RCxnQkFBSyxFQUFFLGdCQUErQyxDQUFDO1FBQy9ELElBQUksR0FBTSxLQUFLLFNBQUksS0FBTyxDQUFDO1FBQzNCLFdBQVc7UUFDWCxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3RCLElBQ0UsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHO1lBQ25CLEtBQUssSUFBSSxDQUFDO1lBQ1YsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHO1lBQ25CLEtBQUssSUFBSSxDQUFDLEVBQ1Y7WUFDQSxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ2YsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDN0IsT0FBTyxHQUFHLEtBQUssQ0FBQztnQkFDaEIsWUFBWSxHQUFHLFdBQVcsQ0FBQzthQUM1QjtTQUNGO2FBQU07WUFDTCxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQ2hCLFlBQVksR0FBRyxjQUFjLENBQUM7U0FDL0I7UUFDRCxJQUFJLE9BQU8sRUFBRTtZQUNYLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM3QjthQUFNO1lBQ0wsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7U0FDcEM7UUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELHNDQUFzQixHQUF0QixVQUF1QixXQUd0QjtRQUNTLHFCQUFDLEVBQUUsaUJBQUMsQ0FBaUI7UUFDN0IsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsUUFBUSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3RCLEtBQUssU0FBUyxDQUFDLEdBQUc7Z0JBQ2hCLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNkLE1BQU07WUFDUixLQUFLLFNBQVMsQ0FBQyxJQUFJO2dCQUNqQixLQUFLLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDZCxNQUFNO1lBQ1IsS0FBSyxTQUFTLENBQUMsSUFBSTtnQkFDakIsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ2QsTUFBTTtZQUNSLEtBQUssU0FBUyxDQUFDLEtBQUs7Z0JBQ2xCLEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNkLE1BQU07U0FDVDtRQUNELE9BQU8sRUFBRSxLQUFLLFNBQUUsS0FBSyxTQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVELHlCQUFTLEdBQVQsVUFBVSxJQUFJO1FBQ1osSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDekIsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDdEMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRTtZQUN4QixtQ0FBcUMsRUFBbkMsUUFBQyxFQUFFLFFBQWdDLENBQUM7WUFDNUMsSUFBTSxJQUFJLEdBQU0sQ0FBQyxTQUFJLENBQUcsQ0FBQztZQUN6QixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUU7Z0JBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO2FBQ25DO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDcEIsQ0FBQztJQUVELCtCQUFlLEdBQWYsVUFBZ0IsR0FBYztRQUM1QixJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDM0IsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxHQUFHLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxJQUFJLEVBQUU7WUFDOUQsZUFBZSxHQUFHLEtBQUssQ0FBQztTQUN6QjtRQUNELElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsSUFBSSxJQUFJLEdBQUcsS0FBSyxTQUFTLENBQUMsR0FBRyxFQUFFO1lBQzlELGVBQWUsR0FBRyxLQUFLLENBQUM7U0FDekI7UUFDRCxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLElBQUksSUFBSSxHQUFHLEtBQUssU0FBUyxDQUFDLEtBQUssRUFBRTtZQUNoRSxlQUFlLEdBQUcsS0FBSyxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxLQUFLLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQyxJQUFJLEVBQUU7WUFDaEUsZUFBZSxHQUFHLEtBQUssQ0FBQztTQUN6QjtRQUNELElBQUksZUFBZSxFQUFFO1lBQ25CLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1NBQ3RCO0lBQ0gsQ0FBQztJQUVELDBCQUFVLEdBQVYsVUFBVyxDQUFDO1FBQ1YsUUFBUSxDQUFDLENBQUMsR0FBRyxFQUFFO1lBQ2IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNwQyxNQUFNO1lBQ1IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQyxNQUFNO1lBQ1IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQyxNQUFNO1lBQ1IsS0FBSyxHQUFHO2dCQUNOLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUN0QyxNQUFNO1NBQ1Q7SUFDSCxDQUFDO0lBRUQsNkJBQWEsR0FBYjtRQUNFLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0lBQ0gsWUFBQztBQUFELENBQUM7QUFFYyxxREFBSyxFQUFDOzs7Ozs7Ozs7Ozs7OztBQ3JJa0M7QUFDM0I7QUFFNUI7SUFZRSxjQUFZLE1BQU07UUFDaEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDdkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUc7WUFDYixHQUFHLEVBQUUsRUFBRTtZQUNQLEdBQUcsRUFBRSxFQUFFO1lBQ1AsS0FBSyxFQUFFLEdBQUc7WUFDVixNQUFNLEVBQUUsR0FBRztTQUNaLENBQUM7SUFDSixDQUFDO0lBRUQsb0JBQUssR0FBTDtRQUNRLHFCQUFnQyxFQUE5QixnQkFBSyxFQUFFLGtCQUF1QixDQUFDO1FBQ3ZDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDOUIsQ0FBQztJQUVELG1CQUFJLEdBQUo7UUFDUSxxQkFBMEMsRUFBeEMsZ0JBQUssRUFBRSxrQkFBTSxFQUFFLFlBQUcsRUFBRSxZQUFvQixDQUFDO1FBQ2pELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQztRQUNyQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztRQUN4QixJQUFNLElBQUksR0FBRyxFQUFFLENBQUM7UUFDaEIsSUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDNUIsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNiLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQzVCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hCLFFBQVEsQ0FBQyxJQUFJLENBQUksQ0FBQyxTQUFJLENBQUcsQ0FBQyxDQUFDO2FBQzVCO1NBQ0Y7UUFDRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkQsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVELHdCQUFTLEdBQVQ7UUFDRSxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLGFBQWEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVELDJCQUFZLEdBQVo7UUFBQSxpQkFRQztRQVBDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ3BCLElBQU0sSUFBRSxHQUFHO2dCQUNULEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztnQkFDakIsS0FBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBRSxDQUFDLENBQUM7WUFDckQsQ0FBQyxDQUFDO1lBQ0YsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBRSxDQUFDLENBQUM7U0FDcEQ7SUFDSCxDQUFDO0lBRUQsNEJBQWEsR0FBYixVQUFjLFFBQXVCO1FBQ25DLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxjQUFJLElBQUksUUFBQztZQUMzQixDQUFDLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNuQyxDQUFDLEVBSjBCLENBSTFCLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFRCw0QkFBYSxHQUFiLFVBQWMsUUFBeUI7UUFDckMsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLGNBQUksSUFBSSxPQUFHLElBQUksQ0FBQyxDQUFDLFNBQUksSUFBSSxDQUFDLENBQUMsU0FBSSxJQUFJLENBQUMsSUFBTSxFQUFsQyxDQUFrQyxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQUVELDRCQUFhLEdBQWI7UUFDRSxJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pFLElBQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsNEVBQXdELEVBQXZELFNBQUMsRUFBRSxTQUFvRCxDQUFDO1FBQy9ELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNqQyxPQUFPLENBQUMsRUFBRSxDQUFDLEtBQUUsQ0FBQyxLQUFFLElBQUksRUFBRSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsMkJBQVksR0FBWjtRQUNFLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDO1FBQzFELEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLGNBQUksSUFBSSw4QkFBTSxJQUFJLEtBQUUsSUFBSSxFQUFFLFFBQVEsQ0FBQyxLQUFLLElBQUcsRUFBbkMsQ0FBbUMsQ0FBQyxDQUFDO1FBQy9ELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVELDRCQUFhLEdBQWI7UUFDRSxJQUFNLFlBQVksR0FBa0IsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQztRQUM1RSxJQUFNLFFBQVEsR0FBa0IsRUFBRSxDQUFDO1FBQ25DLEtBQW1CLFVBQVksRUFBWiw2QkFBWSxFQUFaLDBCQUFZLEVBQVosSUFBWSxFQUFFO1lBQTVCLElBQU0sSUFBSTtZQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRTtnQkFDbkMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzNCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNqQztTQUNGO1FBQ0QsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDckIsSUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1lBQ3hDLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLFFBQVEsQ0FBQyxJQUFJLE9BQWIsUUFBUSxFQUFTLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLEVBQUU7U0FDbEQ7UUFDRCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEMsQ0FBQztJQUVELHdCQUFTLEdBQVQ7UUFBQSxpQkFtQkM7UUFsQkMseUJBQXlCO1FBQ3pCLHFDQUFxQztRQUNyQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUN2QixJQUFJLENBQUMsYUFBYSxHQUFHLFdBQVcsQ0FBQztnQkFDL0IsSUFBSSxLQUFJLENBQUMsVUFBVSxFQUFFLEVBQUU7b0JBQ3JCLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztvQkFDcEQsSUFBTSxRQUFRLEdBQUcsS0FBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO29CQUN0QyxLQUFtQixVQUFRLEVBQVIscUJBQVEsRUFBUixzQkFBUSxFQUFSLElBQVEsRUFBRTt3QkFBeEIsSUFBTSxJQUFJO3dCQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztxQkFDNUI7b0JBQ0QsS0FBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUM7b0JBQ2xCLEtBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7aUJBQzdCO3FCQUFNO29CQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7b0JBQ25CLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztpQkFDbEI7WUFDSCxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ2hCO0lBQ0gsQ0FBQztJQUVELDJCQUFZLEdBQVosVUFBYSxZQUE2QjtRQUN4Qyw2QkFBNkI7UUFDdkIscUJBQTBDLEVBQXhDLGdCQUFLLEVBQUUsa0JBQU0sRUFBRSxZQUFHLEVBQUUsWUFBb0IsQ0FBQztRQUNqRCxLQUFtQixVQUFZLEVBQVosNkJBQVksRUFBWiwwQkFBWSxFQUFaLElBQVksRUFBRTtZQUE1QixJQUFNLElBQUk7WUFDTCxjQUFDLEVBQUUsVUFBQyxDQUFVO1lBQ3RCLFFBQVEsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDakIsS0FBSyxRQUFRLENBQUMsR0FBRyxDQUFDO29CQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FDVixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQ25DLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsRUFDckMsS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQ2YsQ0FBQyxFQUNELENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxFQUNYLEtBQUssQ0FDTixDQUFDO29CQUNGLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLHNCQUFzQixDQUFDO29CQUM1QyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO29CQUNoQixNQUFNO2dCQUNSO29CQUNFLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLHNCQUFzQixDQUFDO29CQUM1QyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FDZixDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEVBQ2pCLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEdBQUcsRUFDbEIsS0FBSyxHQUFHLEdBQUcsRUFDWCxNQUFNLEdBQUcsR0FBRyxDQUNiLENBQUM7YUFDTDtZQUNELElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDbEI7SUFDSCxDQUFDO0lBRUQsb0JBQUssR0FBTCxVQUFNLElBQUk7UUFDRixxQkFBMEMsRUFBeEMsZ0JBQUssRUFBRSxrQkFBTSxFQUFFLFlBQUcsRUFBRSxZQUFvQixDQUFDO1FBQ3pDLGNBQUMsRUFBRSxVQUFDLENBQVU7UUFDdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDO1FBQzdCLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxHQUFHLHFCQUFxQixDQUFDO1FBQzNDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUNmLE1BQUksQ0FBQyxTQUFJLENBQUMsTUFBRyxFQUNiLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQ3JCLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQ3hCLENBQUM7SUFDSixDQUFDO0lBRUQsK0JBQWdCLEdBQWhCO1FBQ0UsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3hELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELDBCQUFXLEdBQVgsVUFBWSxRQUF1Qjs7UUFDM0IscUJBQTBDLEVBQXhDLGdCQUFLLEVBQUUsa0JBQU0sRUFBRSxZQUFHLEVBQUUsWUFBb0IsQ0FBQztRQUNqRCxJQUFNLFNBQVMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxjQUFJLElBQUksV0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQWpCLENBQWlCLENBQUMsQ0FBQztRQUNqRSxLQUFtQixVQUFRLEVBQVIscUJBQVEsRUFBUixzQkFBUSxFQUFSLElBQVEsRUFBRTtZQUF4QixJQUFNLElBQUk7WUFDYixJQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQ2hCLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFHLEdBQUcsRUFDakIsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsR0FBRyxFQUNqQixLQUFLLEdBQUcsR0FBRyxFQUNYLE1BQU0sR0FBRyxHQUFHLENBQ2IsQ0FBQztZQUNGLElBQU0sVUFBVSxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBQ25CLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUN2QztZQUNELElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3BCO1FBQ0QsVUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLFdBQUksUUFBUSxFQUFFO0lBQ25DLENBQUM7SUFFRCx5QkFBVSxHQUFWO1FBQ1EscUJBQTJCLEVBQXpCLFlBQUcsRUFBRSxZQUFvQixDQUFDO1FBQ2xDLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHO2FBQ3JCLE1BQU0sQ0FBQyxVQUFDLEdBQUcsRUFBRSxLQUFLO1lBQ2pCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixDQUFDLEVBQUUsRUFBRSxDQUFDO2FBQ0wsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEtBQUssSUFBSyxRQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsRUFBakIsQ0FBaUIsQ0FBQyxDQUFDO1FBQ2hELHdCQUF3QjtRQUN4QixPQUFPLE9BQU8sS0FBSyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQy9CLENBQUM7SUFFRCxzQkFBTyxHQUFQO1FBQ1EscUJBQWdDLEVBQTlCLGdCQUFLLEVBQUUsa0JBQXVCLENBQUM7UUFDdkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUNILFdBQUM7QUFBRCxDQUFDO0FBRWMsNERBQUksRUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQ3pPTTtBQUNLO0FBRS9CLCtCQUErQjtBQUMvQixJQUFNLE1BQU0sR0FBRyxtQkFBTyxDQUFDLEdBQWMsQ0FBQyxDQUFDO0FBRXZDO0lBQW9CLHlCQUFlO0lBRWpDLGVBQVksS0FBSztRQUFqQixZQUNFLGtCQUFNLEtBQUssQ0FBQyxTQUViO1FBREMsS0FBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7O0lBQ25CLENBQUM7SUFDRCxpQ0FBaUIsR0FBakI7UUFDRSxpREFBaUQ7UUFDakQsUUFBUSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLFNBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNuQixDQUFDO0lBQ0Qsc0JBQU0sR0FBTjtRQUFBLGlCQVdDO1FBVkMsT0FBTyxDQUNMLDZGQUFLLFNBQVMsRUFBRSxNQUFNLENBQUMsaUJBQWlCLENBQUM7WUFDdkMsZ0dBQVEsRUFBRSxFQUFDLFFBQVEsR0FBVTtZQUM3Qiw2RkFBSyxTQUFTLEVBQUMsY0FBYztnQkFDM0IsZ0dBQVEsT0FBTyxFQUFFLGNBQU0sWUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBeEIsQ0FBd0IsZUFBbUI7Z0JBQ2xFLGdHQUFRLE9BQU8sRUFBRSxjQUFNLFlBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQXJCLENBQXFCLFlBQWdCO2dCQUM1RCxnR0FBUSxPQUFPLEVBQUUsY0FBTSxZQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFuQixDQUFtQixjQUFrQixDQUN4RCxDQUNGLENBQ1AsQ0FBQztJQUNKLENBQUM7SUFDSCxZQUFDO0FBQUQsQ0FBQyxDQXhCbUIscUVBQUssQ0FBQyxTQUFTLEdBd0JsQztBQUNjLGtHQUFLLEVBQUMiLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZW51bSBHcmlkVHlwZSB7XG4gIFNuYWtlLFxuICBCZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvb3JNYXAge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgdHlwZTogR3JpZFR5cGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSU1hcFNpemUge1xuICByb3c6IG51bWJlcjtcbiAgY29sOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICBUb3AsXG4gIERvd24sXG4gIExlZnQsXG4gIFJpZ2h0XG59XG4iLCJpbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tIFwiLi90eXBlc1wiO1xuY2xhc3MgU25ha2Uge1xuICBsZW5ndGg6IG51bWJlcjtcbiAgY29vcnM6IEFycmF5PHN0cmluZz47XG4gIGRpcmVjdGlvbjogRGlyZWN0aW9uO1xuICBjb250YWluZXI6IGFueTtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICB0aGlzLmxlbmd0aCA9IDQ7XG4gICAgdGhpcy5jb29ycyA9IFtcIjIsNFwiLCBcIjIsNVwiLCBcIjMsNVwiLCBcIjMsNlwiXTtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IERpcmVjdGlvbi5Ub3A7XG4gICAgdGhpcy5yZWdpc3RlckV2ZW50KCk7XG4gICAgdGhpcy5jb250YWluZXIgPSBwcm9wcy5jb250YWluZXI7XG4gIH1cblxuICBnZXRNb3ZlQ29vcnMoKSB7XG4gICAgdGhpcy5jb29ycyA9IHRoaXMuZGV0ZWN0Qm91bmRhcnkoKTtcbiAgICByZXR1cm4gdGhpcy5jb29ycztcbiAgfVxuXG4gIGRldGVjdEJvdW5kYXJ5KCkge1xuICAgIGxldCBoZWFkID0gdGhpcy5jb29yc1swXTtcbiAgICBjb25zdCB7IG1hcFNpemUgfSA9IHRoaXMuY29udGFpbmVyO1xuICAgIGNvbnN0IHg6IG51bWJlciA9IE51bWJlcihoZWFkLnNwbGl0KFwiLFwiKVswXSk7XG4gICAgY29uc3QgeTogbnVtYmVyID0gTnVtYmVyKGhlYWQuc3BsaXQoXCIsXCIpWzFdKTtcbiAgICBjb25zdCB7IG5leHRYLCBuZXh0WSB9ID0gdGhpcy5nZXROZXh0Q29vckJ5RGlyZWN0aW9uKHsgeCwgeSB9KTtcbiAgICBoZWFkID0gYCR7bmV4dFh9LCR7bmV4dFl9YDtcbiAgICAvLyAgYm91ZGFyeVxuICAgIGxldCBpc0FsaXZlID0gZmFsc2U7XG4gICAgbGV0IGZhaWxlZFJlYXNvbiA9IFwiXCI7XG4gICAgaWYgKFxuICAgICAgbmV4dFggPCBtYXBTaXplLmNvbCAmJlxuICAgICAgbmV4dFggPj0gMCAmJlxuICAgICAgbmV4dFkgPCBtYXBTaXplLnJvdyAmJlxuICAgICAgbmV4dFkgPj0gMFxuICAgICkge1xuICAgICAgaXNBbGl2ZSA9IHRydWU7XG4gICAgICBpZiAodGhpcy5jb29ycy5pbmNsdWRlcyhoZWFkKSkge1xuICAgICAgICBpc0FsaXZlID0gZmFsc2U7XG4gICAgICAgIGZhaWxlZFJlYXNvbiA9IFwia2lsbCBzZWxmXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzQWxpdmUgPSBmYWxzZTtcbiAgICAgIGZhaWxlZFJlYXNvbiA9IFwib3ZlciBib3VkYXJ5XCI7XG4gICAgfVxuICAgIGlmIChpc0FsaXZlKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb3ZlU25ha2UoaGVhZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidG91Y2hcIiwgZmFpbGVkUmVhc29uKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29vcnM7XG4gIH1cblxuICBnZXROZXh0Q29vckJ5RGlyZWN0aW9uKGN1cnJlbnRDb29yOiB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbiAgfSk6IHsgbmV4dFg6IG51bWJlcjsgbmV4dFk6IG51bWJlciB9IHtcbiAgICBjb25zdCB7IHgsIHkgfSA9IGN1cnJlbnRDb29yO1xuICAgIGxldCBuZXh0WCA9IHg7XG4gICAgbGV0IG5leHRZID0geTtcbiAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XG4gICAgICBjYXNlIERpcmVjdGlvbi5Ub3A6XG4gICAgICAgIG5leHRZID0geSAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBEaXJlY3Rpb24uRG93bjpcbiAgICAgICAgbmV4dFkgPSB5ICsgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERpcmVjdGlvbi5MZWZ0OlxuICAgICAgICBuZXh0WCA9IHggLSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRGlyZWN0aW9uLlJpZ2h0OlxuICAgICAgICBuZXh0WCA9IHggKyAxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHsgbmV4dFgsIG5leHRZIH07XG4gIH1cblxuICBtb3ZlU25ha2UoaGVhZCkge1xuICAgIHRoaXMuY29vcnMudW5zaGlmdChoZWFkKTtcbiAgICBjb25zdCB3aWxsUG9wID0gdGhpcy5jb29ycy5wb3AoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGVhckNhbnZhcyhbd2lsbFBvcF0pO1xuICAgIGlmICh0aGlzLmNvbnRhaW5lci5zaW5nbGVQb2ludCkge1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSB0aGlzLmNvbnRhaW5lci5zaW5nbGVQb2ludDtcbiAgICAgIGNvbnN0IGJlYW4gPSBgJHt4fSwke3l9YDtcbiAgICAgIGlmIChoZWFkID09PSBiZWFuKSB7XG4gICAgICAgIHRoaXMuY29vcnMudW5zaGlmdChiZWFuKTtcbiAgICAgICAgdGhpcy5jb29ycy5wdXNoKHdpbGxQb3ApO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGVhclNpbmdsZVBvaW50KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNvb3JzO1xuICB9XG5cbiAgY2hhbmdlRGlyZWN0aW9uKGRpcjogRGlyZWN0aW9uKSB7XG4gICAgbGV0IGVmZmVjdGl2ZUNoYW5nZSA9IHRydWU7XG4gICAgaWYgKHRoaXMuZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uVG9wICYmIGRpciA9PT0gRGlyZWN0aW9uLkRvd24pIHtcbiAgICAgIGVmZmVjdGl2ZUNoYW5nZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5Eb3duICYmIGRpciA9PT0gRGlyZWN0aW9uLlRvcCkge1xuICAgICAgZWZmZWN0aXZlQ2hhbmdlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLkxlZnQgJiYgZGlyID09PSBEaXJlY3Rpb24uUmlnaHQpIHtcbiAgICAgIGVmZmVjdGl2ZUNoYW5nZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5SaWdodCAmJiBkaXIgPT09IERpcmVjdGlvbi5MZWZ0KSB7XG4gICAgICBlZmZlY3RpdmVDaGFuZ2UgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGVmZmVjdGl2ZUNoYW5nZSkge1xuICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXI7XG4gICAgfVxuICB9XG5cbiAgb25LZXlQcmVzcyhlKSB7XG4gICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgY2FzZSBcIndcIjpcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oRGlyZWN0aW9uLlRvcCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNcIjpcbiAgICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oRGlyZWN0aW9uLkRvd24pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKERpcmVjdGlvbi5MZWZ0KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZFwiOlxuICAgICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbihEaXJlY3Rpb24uUmlnaHQpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZWdpc3RlckV2ZW50KCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU25ha2U7XG4iLCJpbXBvcnQgeyBHcmlkVHlwZSwgSUNvb3JNYXAsIElNYXBTaXplIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCBTbmFrZSBmcm9tIFwiLi9zbmFrZVwiO1xuXG5jbGFzcyBHYW1lIHtcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcbiAgbWFwOiBBcnJheTxBcnJheTxudW1iZXI+PjtcbiAgZW1wdHlHcmlkOiBBcnJheTxzdHJpbmc+O1xuICBmaWxsZWRHcmlkOiBBcnJheTxzdHJpbmc+O1xuICBjdHg6IGFueTtcbiAgdGltZXJGcmFtZTogYW55O1xuICB0aW1lckludGVydmFsOiBhbnk7XG4gIHNwZWVkOiBudW1iZXI7XG4gIHNuYWtlOiBTbmFrZTtcbiAgbWFwU2l6ZTogSU1hcFNpemU7XG4gIHNpbmdsZVBvaW50OiBJQ29vck1hcDtcbiAgY29uc3RydWN0b3IoY2FudmFzKSB7XG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMubWFwID0gW107XG4gICAgdGhpcy50aW1lckZyYW1lID0gbnVsbDtcbiAgICB0aGlzLnRpbWVySW50ZXJ2YWwgPSBudWxsO1xuICAgIHRoaXMuc3BlZWQgPSAxMDAwIC8gMjtcbiAgICB0aGlzLm1hcFNpemUgPSB7XG4gICAgICByb3c6IDEwLFxuICAgICAgY29sOiAxMCxcbiAgICAgIHdpZHRoOiAzMDAsXG4gICAgICBoZWlnaHQ6IDMwMFxuICAgIH07XG4gIH1cblxuICBzdGFydCgpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMubWFwU2l6ZTtcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCByb3csIGNvbCB9ID0gdGhpcy5tYXBTaXplO1xuICAgIHRoaXMuc25ha2UgPSBuZXcgU25ha2UoeyBjb250YWluZXI6IHRoaXMgfSk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2IoMCwwLDAsLjMpXCI7XG4gICAgdGhpcy5lbXB0eUdyaWQgPSBbXTtcbiAgICB0aGlzLmZpbGxlZEdyaWQgPSBbXTtcbiAgICB0aGlzLnNpbmdsZVBvaW50ID0gbnVsbDtcbiAgICBjb25zdCB0ZW1wID0gW107XG4gICAgY29uc3QgdGVtcENvb3IgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbDsgaSsrKSB7XG4gICAgICB0ZW1wW2ldID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJvdzsgaisrKSB7XG4gICAgICAgIHRlbXBbaV0ucHVzaCgwKTtcbiAgICAgICAgdGVtcENvb3IucHVzaChgJHtpfSwke2p9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGluaXRTbmthZSA9IHRoaXMudG9PYmplY3RDb29ycyh0aGlzLnNuYWtlLmNvb3JzKTtcbiAgICB0aGlzLnVwZGF0ZUNhbnZhcyhpbml0U25rYWUpO1xuICAgIHRoaXMubWFwID0gdGVtcDtcbiAgICB0aGlzLmVtcHR5R3JpZCA9IHRlbXBDb29yO1xuICAgIHRoaXMuY29udGludWVHYW1lKCk7XG4gIH1cblxuICBwYXVzZUdhbWUoKSB7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMudGltZXJGcmFtZSk7XG4gICAgdGhpcy50aW1lckZyYW1lID0gbnVsbDtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCk7XG4gICAgdGhpcy50aW1lckludGVydmFsID0gbnVsbDtcbiAgfVxuXG4gIGNvbnRpbnVlR2FtZSgpIHtcbiAgICBpZiAoIXRoaXMudGltZXJGcmFtZSkge1xuICAgICAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlTWFwKCk7XG4gICAgICAgIHRoaXMudGltZXJGcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICAgICAgfTtcbiAgICAgIHRoaXMudGltZXJGcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xuICAgIH1cbiAgfVxuXG4gIHRvT2JqZWN0Q29vcnMoc3RyQ29vcnM6IEFycmF5PHN0cmluZz4pOiBBcnJheTxJQ29vck1hcD4ge1xuICAgIHJldHVybiBzdHJDb29ycy5tYXAoaXRlbSA9PiAoe1xuICAgICAgeDogTnVtYmVyKGl0ZW0uc3BsaXQoXCIsXCIpWzBdKSxcbiAgICAgIHk6IE51bWJlcihpdGVtLnNwbGl0KFwiLFwiKVsxXSksXG4gICAgICB0eXBlOiBHcmlkVHlwZVtpdGVtLnNwbGl0KFwiLFwiKVsyXV1cbiAgICB9KSk7XG4gIH1cblxuICB0b1N0cmluZ0Nvb3JzKGFyckNvb3JzOiBBcnJheTxJQ29vck1hcD4pOiBBcnJheTxzdHJpbmc+IHtcbiAgICByZXR1cm4gYXJyQ29vcnMubWFwKGl0ZW0gPT4gYCR7aXRlbS54fSwke2l0ZW0ueX0sJHtpdGVtLnR5cGV9YCk7XG4gIH1cblxuICBnZXRSYW5kb21Db29yKCk6IEFycmF5PElDb29yTWFwPiB7XG4gICAgY29uc3QgcmFuZG9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5lbXB0eUdyaWQubGVuZ3RoKTtcbiAgICBjb25zdCByYW5kb21JdGVtID0gdGhpcy5lbXB0eUdyaWRbcmFuZG9tXTtcbiAgICBjb25zdCBbeCwgeV0gPSByYW5kb21JdGVtLnNwbGl0KFwiLFwiKS5tYXAoaXRlbSA9PiBOdW1iZXIoaXRlbSkpO1xuICAgIHRoaXMuZW1wdHlHcmlkLnNwbGljZShyYW5kb20sIDEpO1xuICAgIHJldHVybiBbeyB4LCB5LCB0eXBlOiBHcmlkVHlwZS5CZWFuIH1dO1xuICB9XG5cbiAgZ2V0U25ha2VDb29yKCk6IEFycmF5PElDb29yTWFwPiB7XG4gICAgbGV0IGNvb3JzID0gdGhpcy50b09iamVjdENvb3JzKHRoaXMuc25ha2UuZ2V0TW92ZUNvb3JzKCkpO1xuICAgIGNvb3JzID0gY29vcnMubWFwKGl0ZW0gPT4gKHsgLi4uaXRlbSwgdHlwZTogR3JpZFR5cGUuU25ha2UgfSkpO1xuICAgIHJldHVybiBjb29ycztcbiAgfVxuXG4gIGdldFVwZGF0ZUNvb3IoKTogQXJyYXk8SUNvb3JNYXA+IHtcbiAgICBjb25zdCBzdHJTbmFrZUNvb3I6IEFycmF5PHN0cmluZz4gPSB0aGlzLnRvU3RyaW5nQ29vcnModGhpcy5nZXRTbmFrZUNvb3IoKSk7XG4gICAgY29uc3QgbmV3Q29vcnM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygc3RyU25ha2VDb29yKSB7XG4gICAgICBpZiAoIXRoaXMuZmlsbGVkR3JpZC5pbmNsdWRlcyhpdGVtKSkge1xuICAgICAgICBuZXdDb29ycy5wdXNoKGl0ZW0pO1xuICAgICAgICB0aGlzLmZpbGxlZEdyaWQucHVzaChpdGVtKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmVtcHR5R3JpZC5pbmRleE9mKGl0ZW0uc3Vic3RyKDAsIDMpKTtcbiAgICAgICAgdGhpcy5lbXB0eUdyaWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnNpbmdsZVBvaW50KSB7XG4gICAgICBjb25zdCByYW5kb21JdGVtID0gdGhpcy5nZXRSYW5kb21Db29yKCk7XG4gICAgICB0aGlzLnNpbmdsZVBvaW50ID0gcmFuZG9tSXRlbVswXTtcbiAgICAgIG5ld0Nvb3JzLnB1c2goLi4udGhpcy50b1N0cmluZ0Nvb3JzKHJhbmRvbUl0ZW0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9PYmplY3RDb29ycyhuZXdDb29ycyk7XG4gIH1cblxuICB1cGRhdGVNYXAoKSB7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5tYXApO1xuICAgIC8vIGNvbnN0IHsgcm93LCBjb2wgfSA9IHRoaXMubWFwU2l6ZTtcbiAgICBpZiAoIXRoaXMudGltZXJJbnRlcnZhbCkge1xuICAgICAgdGhpcy50aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5TWFwKCkpIHtcbiAgICAgICAgICBjb25zdCBuZXdNYXAgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMubWFwKSk7XG4gICAgICAgICAgY29uc3QgYXJyQ29vcnMgPSB0aGlzLmdldFVwZGF0ZUNvb3IoKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyQ29vcnMpIHtcbiAgICAgICAgICAgIG5ld01hcFtpdGVtLnhdW2l0ZW0ueV0gPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm1hcCA9IG5ld01hcDtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUNhbnZhcyhhcnJDb29ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJlbmRcIik7XG4gICAgICAgICAgdGhpcy5wYXVzZUdhbWUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcy5zcGVlZCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlQ2FudmFzKHVwZGF0ZVNxdWFyZTogQXJyYXk8SUNvb3JNYXA+KSB7XG4gICAgLy8gY29uc29sZS5sb2codXBkYXRlU3F1YXJlKTtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHJvdywgY29sIH0gPSB0aGlzLm1hcFNpemU7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHVwZGF0ZVNxdWFyZSkge1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSBpdGVtO1xuICAgICAgc3dpdGNoIChpdGVtLnR5cGUpIHtcbiAgICAgICAgY2FzZSBHcmlkVHlwZVtcIjFcIl06XG4gICAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgdGhpcy5jdHguYXJjKFxuICAgICAgICAgICAgKHggKiB3aWR0aCkgLyBjb2wgKyB3aWR0aCAvIGNvbCAvIDIsXG4gICAgICAgICAgICAoeSAqIGhlaWdodCkgLyByb3cgKyBoZWlnaHQgLyByb3cgLyAyLFxuICAgICAgICAgICAgd2lkdGggLyBjb2wgLyAyLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwicmdiYSg1MCwxMDAsMjAwLDAuNSlcIjtcbiAgICAgICAgICB0aGlzLmN0eC5maWxsKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJyZ2JhKDUwLDEwMCwyMDAsMC4yKVwiO1xuICAgICAgICAgIHRoaXMuY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgKHggKiB3aWR0aCkgLyBjb2wsXG4gICAgICAgICAgICAoeSAqIGhlaWdodCkgLyByb3csXG4gICAgICAgICAgICB3aWR0aCAvIGNvbCxcbiAgICAgICAgICAgIGhlaWdodCAvIHJvd1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlYnVnKGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGRlYnVnKGl0ZW0pIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHJvdywgY29sIH0gPSB0aGlzLm1hcFNpemU7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBpdGVtO1xuICAgIHRoaXMuY3R4LmZvbnQgPSBcIjEwcHggWWFIZWlcIjtcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcInJnYmEoMjU1LDI1NSwyNTUsMSlcIjtcbiAgICB0aGlzLmN0eC5maWxsVGV4dChcbiAgICAgIGAoJHt4fSwke3l9KWAsXG4gICAgICAoeCAqIHdpZHRoKSAvIGNvbCArIDUsXG4gICAgICAoeSAqIGhlaWdodCkgLyByb3cgKyAyMFxuICAgICk7XG4gIH1cblxuICBjbGVhclNpbmdsZVBvaW50KCkge1xuICAgIGNvbnN0IGNsZWFyQXJyID0gdGhpcy50b1N0cmluZ0Nvb3JzKFt0aGlzLnNpbmdsZVBvaW50XSk7XG4gICAgdGhpcy5zaW5nbGVQb2ludCA9IG51bGw7XG4gICAgdGhpcy5jbGVhckNhbnZhcyhjbGVhckFycik7XG4gIH1cblxuICBjbGVhckNhbnZhcyhhcnJDbGVhcjogQXJyYXk8c3RyaW5nPikge1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgcm93LCBjb2wgfSA9IHRoaXMubWFwU2l6ZTtcbiAgICBjb25zdCBhcnJGaWxsZWQgPSB0aGlzLmZpbGxlZEdyaWQubWFwKGl0ZW0gPT4gaXRlbS5zdWJzdHIoMCwgMykpO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnJDbGVhcikge1xuICAgICAgY29uc3QgeCA9IE51bWJlcihpdGVtLnNwbGl0KFwiLFwiKVswXSk7XG4gICAgICBjb25zdCB5ID0gTnVtYmVyKGl0ZW0uc3BsaXQoXCIsXCIpWzFdKTtcbiAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdChcbiAgICAgICAgKHggKiB3aWR0aCkgLyBjb2wsXG4gICAgICAgICh5ICogd2lkdGgpIC8gcm93LFxuICAgICAgICB3aWR0aCAvIGNvbCxcbiAgICAgICAgaGVpZ2h0IC8gcm93XG4gICAgICApO1xuICAgICAgY29uc3QgaW5kZXhDbGVhciA9IGFyckZpbGxlZC5pbmRleE9mKGl0ZW0pO1xuICAgICAgaWYgKGluZGV4Q2xlYXIgPiAtMSkge1xuICAgICAgICB0aGlzLmZpbGxlZEdyaWQuc3BsaWNlKGluZGV4Q2xlYXIsIDEpO1xuICAgICAgfVxuICAgICAgdGhpcy5tYXBbeF1beV0gPSAwO1xuICAgIH1cbiAgICB0aGlzLmVtcHR5R3JpZC5wdXNoKC4uLmFyckNsZWFyKTtcbiAgfVxuXG4gIGlzRW1wdHlNYXAoKSB7XG4gICAgY29uc3QgeyByb3csIGNvbCB9ID0gdGhpcy5tYXBTaXplO1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLm1hcFxuICAgICAgLnJlZHVjZSgoYXJyLCB2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gYXJyLmNvbmNhdCh2YWx1ZSk7XG4gICAgICB9LCBbXSlcbiAgICAgIC5yZWR1Y2UoKHJlc1N1bSwgdmFsdWUpID0+IChyZXNTdW0gKz0gdmFsdWUpKTtcbiAgICAvLyBjb25zb2xlLmxvZyhjdXJyZW50KTtcbiAgICByZXR1cm4gY3VycmVudCAhPT0gcm93ICogY29sO1xuICB9XG5cbiAgcmVzdGFydCgpIHtcbiAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMubWFwU2l6ZTtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgR2FtZTtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBHYW1lIGZyb20gXCIuL2NvbnRhaW5lclwiO1xuXG4vLyBpbXBvcnQgTmF2IGZyb20gXCIuLi9uYXZiYXJcIjtcbmNvbnN0IHN0eWxlcyA9IHJlcXVpcmUoXCIuL2luZGV4Lmxlc3NcIik7XG5cbmNsYXNzIFNuYWtlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgZ2FtZTogR2FtZTtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5nYW1lID0gbnVsbDtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXVudXNlZC1leHByZXNzaW9uXG4gICAgZG9jdW1lbnQudGl0bGUgPSBcIkUtY29sb2d5XCI7XG4gICAgdGhpcy5nYW1lID0gbmV3IEdhbWUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIikpO1xuICAgIHRoaXMuZ2FtZS5pbml0KCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzW1wic25ha2UtY29udGFpbmVyXCJdfT5cbiAgICAgICAgPGNhbnZhcyBpZD1cImNhbnZhc1wiPjwvY2FudmFzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkLWJvdHRvbVwiPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5nYW1lLmNvbnRpbnVlR2FtZSgpfT5Db250aW51ZTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5nYW1lLnBhdXNlR2FtZSgpfT5QYXVzZTwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gdGhpcy5nYW1lLnJlc3RhcnQoKX0+UmVzdGFydDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFNuYWtlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n')}}]);